<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Prabhupada's Sparrow</title>
    <link rel="icon" href="favicon.ico" type="image/x-icon" />
    <link rel="shortcut icon" href="favicon.ico" type="image/x-icon" />
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link
        href="https://fonts.googleapis.com/css2?family=Lora:ital,wght@0,400;0,500;0,600;1,400&family=Montserrat:wght@300;400;500;600&display=swap"
        rel="stylesheet">
    <link rel="stylesheet" href="styles.css">
</head>

<body>
    <div class="header">
        <div class="container">
            <h1>Hare Krishna Mohana Prabhuji 😊, PAMHO 🙇</h1>
        </div>
    </div>

    <div class="search-container">
        <div class="container">
            <div class="search-filters-wrapper">
                <div class="search-wrapper">
                    <input type="text" id="search" placeholder="Search by reference (BG, SB), keyword, or meaning..." autocomplete="off" />
                    <i class="fas fa-search search-icon"></i>
                </div>
                <div class="actions">
                    <button id="refreshBtn" class="btn refresh-btn">
                        <i class="fas fa-sync-alt"></i> Refresh
                    </button>
                    <button id="addQuoteBtn" class="btn add-quote-btn">
                        <i class="fas fa-plus"></i> Add Quote
                    </button>
                    <button id="undoBtn" class="btn undo-btn" style="display: none;">
                        <i class="fas fa-undo"></i> Undo Delete
                    </button>
                </div>
            </div>

            <div class="filters" id="filters"></div>
        </div>
    </div>

    <!-- Move suggestions outside the content flow -->
    <div id="suggestions" class="suggestions-modal"></div>

    <div class="content">
        <div class="container">
            <div id="loading">Finding quotes...</div>
            <div id="results"></div>
        </div>
    </div>

    <!-- Add this before the closing body tag -->
    <div id="quoteModal" class="modal">
        <div class="modal-content">
            <span class="close-modal">&times;</span>
            <h2>Add New Quote</h2>
            
            <!-- Login Section -->
            <div id="loginSection">
                <p class="auth-message">Authentication required to add quotes</p>
                <div class="form-group">
                    <label for="username">Username</label>
                    <input type="text" id="username" placeholder="Enter username" autocomplete="username">
                </div>
                <div class="form-group">
                    <label for="password">Password</label>
                    <input type="password" id="password" placeholder="Enter password" autocomplete="current-password">
                </div>
                <div class="form-actions">
                    <button id="loginBtn" class="btn login-btn">Login</button>
                </div>
            </div>
            
            <!-- Quote Form Section (initially hidden) -->
            <form id="quoteForm" style="display: none;">
                <div class="form-group">
                    <label for="quoteStatement">Quote Text</label>
                    <textarea id="quoteStatement" required placeholder="Enter the quote text..."></textarea>
                </div>
                <div class="form-group">
                    <label for="quoteReference">Reference</label>
                    <input type="text" id="quoteReference" required placeholder="e.g., Śrīla Prabhupāda lecture on Bg 2.48 in New York in 1966" autocomplete="off">
                </div>
                <div class="form-group">
                    <label for="quoteSpeaker">Speaker</label>
                    <input type="text" id="quoteSpeaker" placeholder="e.g., Śrīla Prabhupāda" value="Śrīla Prabhupāda" autocomplete="off">
                </div>
                <div class="form-group">
                    <label for="quoteCategory">Category</label>
                    <select id="quoteCategory">
                        <option value="general">General</option>
                        <option value="superman">Superman</option>
                        <option value="lila-amrita">The Empowered Ācārya</option>
                        <option value="sb">Śrīmad Bhāgavatam</option>
                        <option value="cc">Śrī Caitanya-caritāmṛta</option>
                        <option value="bgatis">Bhagavad-gītā As It Is</option>
                    </select>
                </div>
                <div class="form-group">
                    <label for="quoteKeywords">Keywords (comma separated)</label>
                    <input type="text" id="quoteKeywords" placeholder="e.g., karma, duty, detachment" autocomplete="off">
                </div>
                <div class="form-actions">
                    <button type="submit" class="btn submit-btn">Submit Quote</button>
                    <button type="button" id="logoutBtn" class="btn logout-btn">Logout</button>
                </div>
            </form>
        </div>
    </div>

    <div id="toast" class="toast"></div>

    <script src="app.js"></script>
</body>

</html>
